
#id-build
execute as @e[nbt={Item:{tag:{randomid:"build-1"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/1"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-2"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/2"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-3"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/3"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-4"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/4"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-5"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/5"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-6"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/6"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-7"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/7"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-8"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/8"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-9"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/9"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-10"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/10"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-11"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/11"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-12"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/12"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-13"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/13"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-14"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/14"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-15"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/15"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-16"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/16"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-17"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/17"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-18"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/18"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-19"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/19"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-20"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/20"} replace
execute as @e[nbt={Item:{tag:{randomid:"build-21"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:build/21"} replace

#id-fight
execute as @e[nbt={Item:{tag:{randomid:"fight-dungeon"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,ignoreEntities:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:fight/dungeon"} replace

#id-functional
execute as @e[nbt={Item:{tag:{randomid:"functional-checkpoint"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:functional/ckp"} replace

#id-mcsmstb
execute as @e[nbt={Item:{tag:{randomid:"mcsmstb-shield_wall"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:mcsmstb/shield"} replace
execute as @e[nbt={Item:{tag:{randomid:"mcsmstb-arrow_tower"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:mcsmstb/arrow_tower"} replace

#id-misc
execute as @e[nbt={Item:{tag:{randomid:"misc-ores"}}}] at @s run setblock ~ ~-1 ~ minecraft:structure_block[mode=save]{powered:0b,posX:0,posY:-1,posZ:-3,mode:"LOAD",name:"infhw:misc/ore"} replace


#activate
execute as @e[nbt={Item:{tag:{clear:1b}}}] at @s run setblock ~ ~ ~ minecraft:redstone_block
execute as @e[nbt={Item:{tag:{clear:1b}}}] at @s run give @p gold_nugget

#clear the item
kill @e[nbt={Item:{tag:{clear:1b}}}]


#clear entity
kill @e[name=Build,type=minecraft:silverfish]
kill @e[name=Fight,type=minecraft:silverfish]
kill @e[name=Checkpoint,type=minecraft:silverfish]
kill @e[name=Ores,type=minecraft:silverfish]
kill @e[name=Shield_wall,type=minecraft:silverfish]
kill @e[name=Arrow_tower,type=minecraft:silverfish]

